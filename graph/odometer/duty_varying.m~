% Graph for varying the duty cycle. each data point is the tacho count at
% at constant time interval of 100ms
clear; clc

data = [
[0 0 0 0 2 2 4 5 6 7 8 9 10 10 11 12 13 14 15 15 16 17 18 19 19 21 21 22 22 23 24 24 25 26 26 27 28 29 30 30]
[0 0 0 2 4 5 8 10 12 14 17 19 22 25 27 30 33 35 38 41 44 46 49 52 54 57 60 62 65 67 70 73 75 78 80 83 85 88 90 93]
[0 0 1 3 6 9 13 15 19 23 27 32 36 40 45 49 54 58 63 67 72 77 81 85 90 95 99 104 109 113 119 123 128 133 137 142 147 152 157 162 ]
[0 0 1 4 9 14 18 23 29 35 41 48 54 61 68 74 81 87 94 101 108 114 121 128 134 140 147 154 159 166 172 178 185 191 197 204 211 218 226 233 ]
[0 0 2 6 12 19 26 32 40 48 56 65 74 83 91 100 109 117 127 135 143 153 162 171 180 188 196 205 214 223 231 239 248 256 265 274 283 292 301 309 ]
[0 0 2 7 14 21 28 36 45 55 65 76 86 97 108 118 128 138 148 159 170 180 191 202 212 223 234 246 257 268 279 292 303 314 325 335 346 358 368 379 ]
[0 0 3 9 17 26 36 46 57 68 80 94 107 120 133 145 159 171 184 197 211 225 239 252 265 279 292 304 317 331 344 356 368 381 395 407 420 433 447 460 ]
[0 0 3 9 19 29 40 51 65 78 93 106 120 136 151 166 181 197 212 228 242 258 274 290 305 319 334 350 365 380 394 410 425 440 455 470 485 501 515 533 ]
[0 0 2 8 17 28 40 53 68 83 98 114 130 147 165 182 199 216 234 251 269 287 304 321 337 355 372 390 408 427 446 464 480 498 515 532 550 567 585 602 ]
];


dist = [2,6,11,15.5,21,26,32,38,44];
duty = [10,20,30,40,50,60,70,80,90];
[~,m] = size(data);
[~,n] = size(dist);
labels = cell(n,1);
% XTickLabels = cell(n,1);
for i=1:n
    labels{i} = sprintf('duty cycle = %d, dist %.1f cm', duty(i), dist(i));
end

for i=1:11
    XTickLabels{i} = sprintf('%d', (i-1)*400);
end

plot (data', 'Linewidth', 2)
title('Tacho counts with varying duty cycle for 4000ms');

xlabel('Time (ms)')

ylabel('Average Tacho Counts between L and R motor')
legend(labels, 'Location', 'best')
saveas(figure(1), 'duty_varying.jpg'); % Saves as a jpg
